{% extends "base.html" %}

{% block title %}Company Settings - Invoice Management System{% endblock %}

{% block content %}
<form method="POST" action="{{ url_for('save_company') }}">
    <div class="form-section">
        <h2 class="section-title">
            <i class="fas fa-building"></i> Company Information
        </h2>
        <div class="form-row">
            <div class="form-group">
                <label for="name">Company Name *</label>
                <input type="text" id="name" name="name" value="{{ company.name if company else '' }}" required>
            </div>
            <div class="form-group">
                <label for="tax_id">Tax ID / EIN</label>
                <input type="text" id="tax_id" name="tax_id" value="{{ company.tax_id if company else '' }}">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" value="{{ company.address if company else '' }}">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="city">City</label>
                <input type="text" id="city" name="city" value="{{ company.city if company else '' }}">
            </div>
            <div class="form-group">
                <label for="state">State</label>
                <input type="text" id="state" name="state" value="{{ company.state if company else '' }}">
            </div>
            <div class="form-group">
                <label for="zip_code">ZIP Code</label>
                <input type="text" id="zip_code" name="zip_code" value="{{ company.zip_code if company else '' }}">
            </div>
        </div>
    </div>

    <div class="form-section">
        <h2 class="section-title">
            <i class="fas fa-phone"></i> Contact Information
        </h2>
        <div class="form-row">
            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="tel" id="phone" name="phone" value="{{ company.phone if company else '' }}">
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" value="{{ company.email if company else '' }}">
            </div>
            <div class="form-group">
                <label for="website">Website</label>
                <input type="url" id="website" name="website" value="{{ company.website if company else '' }}">
            </div>
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Company Settings
        </button>
        <button type="button" class="btn btn-secondary" onclick="window.location.href='{{ url_for('create_invoice') }}'">
            <i class="fas fa-arrow-left"></i> Back to Invoice
        </button>
    </div>
</form>

{% if company %}
<div class="form-section mt-4">
    <h2 class="section-title">
        <i class="fas fa-eye"></i> Company Preview
    </h2>
    <div class="company-preview">
        <div class="preview-card">
            <h3>{{ company.name }}</h3>
            {% if company.address %}
            <p>{{ company.address }}</p>
            {% endif %}
            {% if company.city %}
            <p>{{ company.city }}, {{ company.state }} {{ company.zip_code }}</p>
            {% endif %}
            {% if company.phone %}
            <p><i class="fas fa-phone"></i> {{ company.phone }}</p>
            {% endif %}
            {% if company.email %}
            <p><i class="fas fa-envelope"></i> {{ company.email }}</p>
            {% endif %}
            {% if company.website %}
            <p><i class="fas fa-globe"></i> <a href="{{ company.website }}" target="_blank">{{ company.website }}</a></p>
            {% endif %}
            {% if company.tax_id %}
            <p><i class="fas fa-id-card"></i> Tax ID: {{ company.tax_id }}</p>
            {% endif %}
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
